{"version":3,"file":"static/js/968.dc5afbfb.chunk.js","mappings":"wPAkCA,IACA,EAAe,IAA0B,4D,uCClCzC,GAAgB,UAAY,+BAA+B,4BAA8B,iDAAiD,kBAAoB,uCAAuC,kBAAoB,uCAAuC,gBAAkB,qCAAqC,gBAAkB,qCAAqC,cAAgB,mCAAmC,qBAAuB,0CAA0C,oBAAsB,yCAAyC,4BAA4B,+CAA+C,sBAAwB,2CAA2C,wBAAwB,2CAA2C,iBAAmB,sCAAsC,WAAa,iC,SCa3yBA,EAAiBC,EAAAA,KAAaC,MAAM,CAC/CC,SAAUF,EAAAA,KACPG,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACZC,MAAON,EAAAA,KAAaM,MAAM,iBAAiBD,SAAS,YACpDE,MAAOP,EAAAA,GAAW,iBAClBQ,SAAUR,EAAAA,GAAW,oBACrBS,OAAQT,EAAAA,GAAW,kBACnBU,SAAUV,EAAAA,GAAW,oBAqLvB,EAlLiB,SAAC,GAAa,IAAZW,EAAW,EAAXA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,IAC7B,GAA8CC,EAAAA,EAAAA,UAAS,MAAvD,eAAOC,EAAP,KAAwBC,EAAxB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,MAAjC,eAAOG,EAAP,KAAaC,EAAb,KAEIC,EAAkB,CACpBf,MAAOO,EAASP,OAAS,GACzBC,SAAUM,EAASN,UAAW,GAC9BN,SAAUY,EAASZ,SACnBI,MAAMQ,EAASR,MACfI,SAAUI,EAASJ,SAAYa,IAAOT,EAASJ,UAAUc,OAAO,cAAgBD,MAASC,OAAO,eAElGC,QAAQC,IAAIJ,GAEZ,IAAMK,EAAkB,mCAAG,WAAMC,GAAN,2EACnBC,EAAuBD,EAAEE,OAAOC,MAAM,GAC5CV,EAAQQ,GACFG,EAAS,IAAIC,WAEbC,EAAO,IAAIC,KAAK,CAACN,GAAuB,CAC5CO,KAAMP,EAAqBO,OAE7BJ,EAAOK,cAAcH,GACrBF,EAAOM,OAAS,WACdnB,EAAmBa,EAAOO,OAC3B,EAXwB,2CAAH,sDAclBC,EAAS,mCAAG,WAAMC,GAAN,8EACVC,EAAW,IAAIC,SAERC,OAAOC,KAAKJ,GACpBK,SAAQ,SAAAC,GAAG,OAAIL,EAASM,OAAOD,EAAKN,EAAOM,GAAhC,IACZ3B,GACFsB,EAASM,OAAO,SAAU5B,GANZ,kBAWRR,GAASqC,EAAAA,EAAAA,IAAkBP,IAXnB,uDAadjB,QAAQC,IAAR,MAbc,yDAAH,sDAiBf,OACE,qBAASwB,UAAS,UAAKC,EAAAA,UAAL,YAAsBxC,GAAxC,WACE,iBAAKuC,UAAS,UAAKC,EAAAA,4BAAL,YAAwCxC,GAAtD,WACE,gBACEuC,UAAS,UAAKC,EAAAA,kBAAL,YAA8BxC,GACvCyC,IAAKlC,GAAmBJ,EAASL,QAAU4C,EAC3CC,IAAI,iBAEN,iBAAKJ,UAAS,UAAKC,EAAAA,wBAAL,YAAoCxC,GAAlD,WACE,kBACE4C,GAAG,gBACHC,KAAK,SACLpB,KAAK,OACLqB,OAAO,UACPC,SAAU/B,EACVgC,MAAO,CAAEC,QAAS,WAEpB,kBAAOC,QAAQ,gBAAgBX,UAAS,UAAKC,EAAAA,kBAAL,YAA8BxC,SAExE,eAAIuC,UAAS,UAAKC,EAAAA,gBAAL,YAA4BxC,GAAzC,SAAmDG,EAASZ,UAAY,cACxE,cAAGgD,UAAS,UAAKC,EAAAA,gBAAL,YAA4BxC,GAAxC,sBAEF,SAAC,KAAD,CACEmD,cAAexC,EACfyC,iBAAkBhE,EAClBiE,SAAQ,mCAAE,WAAOvB,EAAP,0EAAiBwB,EAAjB,EAAiBA,cACzBC,YAAW,WACT1B,EAAUC,GAAQ0B,MAAK,WACrBF,GAAc,EACf,GACF,GAAE,KACH3C,GAAe,UAAQmB,GANf,2CAAF,wDAHV,SAYG,SAAA2B,GACC,OACE,UAAC,KAAD,CAAMlB,UAAS,UAAKC,EAAAA,cAAL,YAA0BxC,GAAzC,WACE,mBAAOkD,QAAQ,WAAWX,UAAS,UAAKC,EAAAA,qBAAL,YAAiCxC,GAApE,sBAEE,SAAC,KAAD,CACE6C,KAAK,WACLpB,KAAK,OACLc,UACE,UAAGC,EAAAA,oBAAH,YAA8BxC,IAC7ByD,EAAOC,OAAOnE,UAAYkE,EAAOE,QAAQpE,SACtCiD,EAAAA,WACA,IAENoB,YAAY,eAEd,SAAC,KAAD,CACEf,KAAK,WACLgB,UAAU,MACVtB,UAAWC,EAAAA,uBAIf,mBAAOU,QAAQ,WAAWX,UAAS,UAAKC,EAAAA,qBAAL,YAAiCxC,GAApE,uBAEE,SAAC,KAAD,CACEuC,UAAS,UAAKC,EAAAA,oBAAL,YAAgCxC,GACzC6C,KAAK,WACLiB,KAAK,KACLrC,KAAK,OACLmC,YAAY,yBAEd,SAAC,KAAD,CACEf,KAAK,WACLgB,UAAU,MACVtB,UAAWC,EAAAA,uBAIf,mBAAOU,QAAQ,QAAQX,UAAS,UAAKC,EAAAA,qBAAL,YAAiCxC,GAAjE,2BAEE,SAAC,KAAD,CACE6C,KAAK,QACLpB,KAAK,QACLc,UAAS,UAAKC,EAAAA,oBAAL,YAAgCxC,MAE3C,SAAC,KAAD,CACE6C,KAAK,QACLgB,UAAU,MACVtB,UAAWC,EAAAA,uBAGf,mBAAOU,QAAQ,QAAQX,UAAS,UAAKC,EAAAA,qBAAL,YAAiCxC,GAAjE,oBAEE,SAAC,KAAD,CACEuC,UAAS,UAAKC,EAAAA,oBAAL,YAAgCxC,GACzC4C,GAAG,QACHC,KAAK,QACLpB,KAAK,OACLmC,YAAY,sBAEd,SAAC,KAAD,CACEf,KAAK,QACLgB,UAAU,MACVtB,UAAWC,EAAAA,uBAIf,mBAAOU,QAAQ,WAAWX,UAAS,UAAKC,EAAAA,qBAAL,YAAiCxC,GAApE,uBAEE,SAAC,KAAD,CACEuC,UAAS,UAAKC,EAAAA,oBAAL,YAAgCxC,GACzC4C,GAAG,WACHC,KAAK,WACLpB,KAAK,OACLmC,YAAY,8BAEd,SAAC,KAAD,CACEf,KAAK,WACLgB,UAAU,MACVtB,UAAWC,EAAAA,uBAGf,mBACEf,KAAK,SACLc,UAAS,UAAKC,EAAAA,sBAAL,YAAkCxC,GAC3C+D,UAAWN,EAAOO,QAAUP,EAAOQ,QAHrC,4BASL,MAIR,ECxMc,SAASC,IACpB,OACI,+BACE,SAAC,EAAD,KAGT,C","sources":["images/icons/ph_user.svg","webpack://goose_track/./src/components/AccountPage/accountPage.module.scss?0655","components/AccountPage/accountPage.js","pages/AccountPage/AccountPage.jsx"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPhUser(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M43.2975 39.75C40.4419 34.8131 36.0413 31.2731 30.9056 29.595C33.446 28.0827 35.4196 25.7784 36.5235 23.0358C37.6275 20.2933 37.8006 17.2642 37.0164 14.4138C36.2322 11.5633 34.5339 9.04909 32.1825 7.25721C29.831 5.46533 26.9564 4.49487 24 4.49487C21.0436 4.49487 18.169 5.46533 15.8176 7.25721C13.4661 9.04909 11.7679 11.5633 10.9837 14.4138C10.1994 17.2642 10.3726 20.2933 11.4765 23.0358C12.5804 25.7784 14.5541 28.0827 17.0944 29.595C11.9588 31.2712 7.55814 34.8112 4.70252 39.75C4.5978 39.9207 4.52834 40.1107 4.49824 40.3088C4.46813 40.5068 4.478 40.7088 4.52725 40.903C4.5765 41.0972 4.66415 41.2795 4.785 41.4392C4.90586 41.599 5.05749 41.7329 5.23094 41.8331C5.40439 41.9333 5.59615 41.9977 5.79491 42.0226C5.99367 42.0474 6.19539 42.0323 6.38818 41.9779C6.58098 41.9236 6.76093 41.8311 6.91743 41.7061C7.07393 41.5811 7.20381 41.426 7.29939 41.25C10.8319 35.145 17.0756 31.5 24 31.5C30.9244 31.5 37.1681 35.145 40.7006 41.25C40.7962 41.426 40.9261 41.5811 41.0826 41.7061C41.2391 41.8311 41.4191 41.9236 41.6119 41.9779C41.8046 42.0323 42.0064 42.0474 42.2051 42.0226C42.4039 41.9977 42.5956 41.9333 42.7691 41.8331C42.9425 41.7329 43.0942 41.599 43.215 41.4392C43.3359 41.2795 43.4235 41.0972 43.4728 40.903C43.522 40.7088 43.5319 40.5068 43.5018 40.3088C43.4717 40.1107 43.4022 39.9207 43.2975 39.75ZM13.5 18C13.5 15.9233 14.1158 13.8932 15.2696 12.1665C16.4233 10.4398 18.0632 9.09396 19.9818 8.29924C21.9005 7.50452 24.0117 7.29658 26.0485 7.70173C28.0853 8.10687 29.9562 9.1069 31.4246 10.5754C32.8931 12.0438 33.8931 13.9147 34.2983 15.9515C34.7034 17.9883 34.4955 20.0995 33.7008 22.0182C32.906 23.9368 31.5602 25.5766 29.8335 26.7304C28.1068 27.8842 26.0767 28.5 24 28.5C21.2162 28.497 18.5472 27.3898 16.5787 25.4213C14.6102 23.4528 13.503 20.7838 13.5 18Z\",\n    fill: \"#3E85F3\",\n    fillOpacity: 0.18\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPhUser);\nexport default __webpack_public_path__ + \"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"user_page\":\"accountPage_user_page__2b2f0\",\"user_page__avatar_container\":\"accountPage_user_page__avatar_container__x8xHg\",\"user_page__avatar\":\"accountPage_user_page__avatar__X7iSu\",\"avatar_upload_btn\":\"accountPage_avatar_upload_btn__c0sNy\",\"user_page__name\":\"accountPage_user_page__name__jpU+G\",\"user_page__role\":\"accountPage_user_page__role__P3cpO\",\"username_form\":\"accountPage_username_form__6g2oi\",\"username_form__label\":\"accountPage_username_form__label__Zr8sg\",\"username_form_input\":\"accountPage_username_form_input__UFHqo\",\"username_form-input--last\":\"accountPage_username_form-input--last__H1Ue1\",\"username_form__submit\":\"accountPage_username_form__submit__9Vc2l\",\"username__form-submit\":\"accountPage_username__form-submit__R8lsZ\",\"invalid_feedback\":\"accountPage_invalid_feedback__xwEBF\",\"is_invalid\":\"accountPage_is_invalid__Tz6E4\"};","import React, {  useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectorGetUser } from '../../redux/user/selectors';\nimport {\n  updateUserProfile,\n  \n} from '../../redux/user/user-operations';\nimport userAvatar from '../../images/icons/ph_user.svg';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport moment from 'moment';\nimport css from './accountPage.module.scss';\n\n\nexport const infoUserSchema = Yup.object().shape({\n  userName: Yup.string()\n    .min(3, 'Too Short!')\n    .max(36, 'Too Long!')\n    .required('Required'),\n  email: Yup.string().email('Invalid email').required('Required'),\n  phone: Yup.string('Invalid phone'),\n  telegram: Yup.string('Invalid telegram'),\n  avatar: Yup.string('Invalid avatar'),\n  birthday: Yup.string('Invalid avatar'),\n});\n\nconst UserForm = ({theme}) => {\n  const dispatch = useDispatch();\n  const userInfo = useSelector(selectorGetUser);\n  const [previewImageUrl, setPreviewImageUrl] = useState(null);\n  const [file, setFile] = useState(null);\n\n  let updatedUserInfo = {\n    phone: userInfo.phone || \"\" ,\n    telegram: userInfo.telegram|| \"\",\n    userName: userInfo.userName,\n    email:userInfo.email,\n    birthday: userInfo.birthday ?  moment(userInfo.birthday).format(\"YYYY-MM-DD\"):  moment().format(\"YYYY-MM-DD\"),\n  };\n  console.log(updatedUserInfo)\n\n  const handleAvatarChange = async e => {\n    const userAvatarPreviewImg = e.target.files[0];\n    setFile(userAvatarPreviewImg);\n    const reader = new FileReader();\n\n    const blob = new Blob([userAvatarPreviewImg], {\n      type: userAvatarPreviewImg.type,\n    });\n    reader.readAsDataURL(blob);\n    reader.onload = () => {\n      setPreviewImageUrl(reader.result);\n    };\n  };\n\n  const submiting = async values => {\n    const formData = new FormData();\n\n    const keys = Object.keys(values);\n    keys.forEach(key => formData.append(key, values[key]));\n    if (file) {\n      formData.append('avatar', file);\n    }\n    \n\n    try {\n      await dispatch(updateUserProfile(formData));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <section className={`${css.user_page} ${theme}`}>\n      <div className={`${css.user_page__avatar_container} ${theme}`}>\n        <img\n          className={`${css.user_page__avatar} ${theme}`}\n          src={previewImageUrl || userInfo.avatar || userAvatar}\n          alt=\"User Avatar\"\n        />\n        <div className={`${css.avatar_upload_container} ${theme}`}>\n          <input\n            id=\"avatar-upload\"\n            name=\"avatar\"\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleAvatarChange}\n            style={{ display: 'none' }}\n          />\n          <label htmlFor=\"avatar-upload\" className={`${css.avatar_upload_btn} ${theme}`}></label>\n        </div>\n        <h3 className={`${css.user_page__name} ${theme}`}>{userInfo.userName || 'Username'}</h3>\n        <p className={`${css.user_page__role} ${theme}`}>User</p>\n      </div>\n      <Formik\n        initialValues={updatedUserInfo}\n        validationSchema={infoUserSchema}\n        onSubmit={async (values, { setSubmitting }) => {\n          setTimeout(() => {\n            submiting(values).then(() => {\n              setSubmitting(false);\n            });\n          }, 700);\n          updatedUserInfo = { ...values };\n        }}\n      >\n        {formik => {\n          return (\n            <Form className={`${css.username_form} ${theme}`}>\n              <label htmlFor=\"userName\" className={`${css.username_form__label} ${theme}`}>\n                Username\n                <Field\n                  name=\"userName\"\n                  type=\"text\"\n                  className={\n                    `${css.username_form_input} ${theme}` +\n                    (formik.errors.userName && formik.touched.userName\n                      ? css.is_invalid\n                      : '')\n                  }\n                  placeholder=\"User name\"\n                />\n                <ErrorMessage\n                  name=\"userName\"\n                  component=\"div\"\n                  className={css.invalid_feedback}\n                />\n              </label>\n\n              <label htmlFor=\"birthday\" className={`${css.username_form__label} ${theme}`}>\n                Birthday:\n                <Field\n                  className={`${css.username_form_input} ${theme}`}\n                  name=\"birthday\"\n                  lang=\"en\"\n                  type=\"date\"\n                  placeholder=\"Enter your birthday\"\n                />\n                <ErrorMessage\n                  name=\"birthday\"\n                  component=\"div\"\n                  className={css.invalid_feedback}\n                />\n              </label>\n\n              <label htmlFor=\"email\" className={`${css.username_form__label} ${theme}`}>\n                Email Address\n                <Field\n                  name=\"email\"\n                  type=\"email\"\n                  className={`${css.username_form_input} ${theme}`}\n                />\n                <ErrorMessage\n                  name=\"email\"\n                  component=\"div\"\n                  className={css.invalid_feedback}\n                />\n              </label>\n              <label htmlFor=\"phone\" className={`${css.username_form__label} ${theme}`}>\n                Phone:\n                <Field\n                  className={`${css.username_form_input} ${theme}`}\n                  id=\"phone\"\n                  name=\"phone\"\n                  type=\"text\"\n                  placeholder=\"Enter your phone\"\n                />\n                <ErrorMessage\n                  name=\"phone\"\n                  component=\"div\"\n                  className={css.invalid_feedback}\n                />\n              </label>\n\n              <label htmlFor=\"telegram\" className={`${css.username_form__label} ${theme}`}>\n                Telegram:\n                <Field\n                  className={`${css.username_form_input} ${theme}`}\n                  id=\"telegram\"\n                  name=\"telegram\"\n                  type=\"text\"\n                  placeholder=\"Enter your Telegram link\"\n                />\n                <ErrorMessage\n                  name=\"telegram\"\n                  component=\"div\"\n                  className={css.invalid_feedback}\n                />\n              </label>\n              <button\n                type=\"submit\"\n                className={`${css.username_form__submit} ${theme}`}\n                disabled={!formik.dirty || !formik.isValid}\n              >\n                Save Changes\n              </button>\n            </Form>\n          );\n        }}\n      </Formik>\n    </section>\n  );\n};\n\nexport default UserForm;\n","import  UserForm  from '../../components/AccountPage/accountPage'\n\nexport default function UserPage() {\n    return (\n        <>\n          <UserForm/>  \n        </>\n    )\n}"],"names":["infoUserSchema","Yup","shape","userName","min","max","required","email","phone","telegram","avatar","birthday","theme","dispatch","useDispatch","userInfo","useSelector","selectorGetUser","useState","previewImageUrl","setPreviewImageUrl","file","setFile","updatedUserInfo","moment","format","console","log","handleAvatarChange","e","userAvatarPreviewImg","target","files","reader","FileReader","blob","Blob","type","readAsDataURL","onload","result","submiting","values","formData","FormData","Object","keys","forEach","key","append","updateUserProfile","className","css","src","userAvatar","alt","id","name","accept","onChange","style","display","htmlFor","initialValues","validationSchema","onSubmit","setSubmitting","setTimeout","then","formik","errors","touched","placeholder","component","lang","disabled","dirty","isValid","UserPage"],"sourceRoot":""}