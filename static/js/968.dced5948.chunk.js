"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[968],{968:function(a,e,n){n.r(e),n.d(e,{default:function(){return P}});var t=n(5861),r=n(1413),c=n(9439),s=n(4687),o=n.n(s),l=n(2791),_=n(9434),u=n(4746),i=n(6129);var m=n.p+"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg",d=n(5705),p=n(9513),h=n.n(p),f=n(6727),g=n(2426),v=n.n(g),b={user_page:"accountPage_user_page__2b2f0",user_page__avatar_container:"accountPage_user_page__avatar_container__x8xHg",user_page__avatar:"accountPage_user_page__avatar__X7iSu",avatar_upload_btn:"accountPage_avatar_upload_btn__c0sNy",user_page__name:"accountPage_user_page__name__jpU+G",user_page__role:"accountPage_user_page__role__P3cpO",username_form:"accountPage_username_form__6g2oi",username_form__label:"accountPage_username_form__label__Zr8sg",username_form_input:"accountPage_username_form_input__UFHqo",is_invalid:"accountPage_is_invalid__Tz6E4","username_form-input--last":"accountPage_username_form-input--last__H1Ue1",username_form__submit:"accountPage_username_form__submit__9Vc2l","username__form-submit":"accountPage_username__form-submit__R8lsZ",invalid_feedback:"accountPage_invalid_feedback__xwEBF",date_picker:"accountPage_date_picker__Zbqb-"},x=n(184),N=(new Date).toISOString().split("T")[0],y=f.Ry().shape({userName:f.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required"),email:f.Z_().email("Invalid email").required("Required"),phone:f.Z_().matches(/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){5,12}\d$/,"Invalid phone").optional(),telegram:f.Z_("Invalid telegram"),avatar:f.Z_("Invalid avatar"),birthday:f.hT()}),j=function(a){var e=a.name,n=void 0===e?"":e,t=a.birthday,s=(0,d.U$)(n),o=(0,c.Z)(s,3),_=o[0],u=o[1],i=o[2],m=(0,l.useState)(v()()),p=(0,c.Z)(m,2),f=p[0],g=p[1],b=u.value,y=i.setValue,j=(0,l.useCallback)((function(a){var e=v()(a).format("dddd");return"Saturday"===e||"Sunday"===e}),[]),k=(0,l.useCallback)((function(a){var e=[],n=v()(f).startOf("month"),t=v()(f).endOf("month");return(v()(a).isBefore(n)||v()(a).isAfter(t))&&e.push("outside-month"),j(a)&&e.push("highlighted-weekend"),e.join(" ")}),[f,j]),P=(0,l.useCallback)((function(a){g(v()(a))}),[]),Z=(0,l.useCallback)((function(){g(v()())}),[]);return(0,x.jsx)(h(),(0,r.Z)((0,r.Z)({},_),{},{selected:b||new Date(t||N),onChange:function(a){return y(a)},onMonthChange:P,onFocus:Z,dayClassName:k,calendarStartDay:1,placeholderText:t||"Choose a date"}))},k=function(a){var e=a.theme,n=(0,_.I0)(),r=(0,_.v9)(u.mE),s=(0,l.useState)(null),p=(0,c.Z)(s,2),h=p[0],f=p[1],g=(0,l.useState)(null),N=(0,c.Z)(g,2),k=N[0],P=N[1],Z={phone:r.phone||"",telegram:r.telegram||"",userName:r.userName,email:r.email,birthday:r.birthday},w=function(){var a=(0,t.Z)(o().mark((function a(e){var n,t,r;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.target.files[0],P(n),t=new FileReader,r=new Blob([n],{type:n.type}),t.readAsDataURL(r),t.onload=function(){f(t.result)};case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),S=function(){var a=(0,t.Z)(o().mark((function a(e){var t;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=new FormData,Object.keys(e).forEach((function(a){if("date"!==a)"birthday"!==a&&t.append(a,e[a]);else{var n=v()(e[a]).format("YYYY-MM-DD");t.append("birthday",n)}})),k&&t.append("avatar",k),a.prev=4,a.next=7,n((0,i.Lj)(t));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[4,9]])})));return function(e){return a.apply(this,arguments)}}();return(0,x.jsxs)("section",{className:"".concat(b.user_page," ").concat(e),children:[(0,x.jsxs)("div",{className:"".concat(b.user_page__avatar_container," ").concat(e),children:[(0,x.jsx)("img",{className:"".concat(b.user_page__avatar," ").concat(e),src:h||r.avatar||m,alt:"User Avatar"}),(0,x.jsxs)("div",{className:"".concat(b.avatar_upload_container," ").concat(e),children:[(0,x.jsx)("input",{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:w,style:{display:"none"}}),(0,x.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(b.avatar_upload_btn," ").concat(e)})]}),(0,x.jsx)("h3",{className:"".concat(b.user_page__name," ").concat(e),children:r.userName||"Username"}),(0,x.jsx)("p",{className:"".concat(b.user_page__role," ").concat(e),children:"User"})]}),(0,x.jsx)(d.J9,{initialValues:Z,validationSchema:y,onSubmit:S,children:function(a){return(0,x.jsxs)(d.l0,{className:"".concat(b.username_form," ").concat(e),children:[(0,x.jsxs)("label",{htmlFor:"userName",className:"".concat(b.username_form__label," ").concat(e),children:["Username",(0,x.jsx)(d.gN,{name:"userName",type:"text",className:"".concat(b.username_form_input," ").concat(e)+(a.errors.userName&&a.touched.userName?b.is_invalid:""),placeholder:"User name"}),(0,x.jsx)(d.Bc,{name:"userName",component:"div",className:b.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"birthday",className:"".concat(b.username_form__label," ").concat(e),children:["Birthday:",(0,x.jsx)(j,{name:"date",birthday:a.values.birthday,className:b.my_date_picker}),(0,x.jsx)(d.Bc,{name:"birthday",component:"div",className:b.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"email",className:"".concat(b.username_form__label," ").concat(e),children:["Email Address",(0,x.jsx)(d.gN,{name:"email",type:"email",className:"".concat(b.username_form_input," ").concat(e)}),(0,x.jsx)(d.Bc,{name:"email",component:"div",className:b.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"phone",className:"".concat(b.username_form__label," ").concat(e),children:["Phone:",(0,x.jsx)(d.gN,{className:"".concat(b.username_form_input," ").concat(e),id:"phone",name:"phone",type:"text",placeholder:"Enter your phone"}),(0,x.jsx)(d.Bc,{name:"phone",component:"div",className:b.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"telegram",className:"".concat(b.username_form__label," ").concat(e),children:["Telegram:",(0,x.jsx)(d.gN,{className:"".concat(b.username_form_input," ").concat(e),id:"telegram",name:"telegram",type:"text",placeholder:"Enter your Telegram link"}),(0,x.jsx)(d.Bc,{name:"telegram",component:"div",className:b.invalid_feedback})]}),(0,x.jsx)("button",{type:"submit",className:"".concat(b.username_form__submit," ").concat(e),disabled:!a.dirty,children:"Save Changes"})]})}})]})};function P(){return(0,x.jsx)(k,{})}}}]);
//# sourceMappingURL=968.dced5948.chunk.js.map