"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[968],{968:function(a,e,n){n.r(e),n.d(e,{default:function(){return N}});var r=n(1413),t=n(5861),c=n(9439),s=n(7757),o=n.n(s),_=n(2791),l=n(9434),m=n(4746),i=n(6129);var u=n.p+"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg",d=n(5705),p=n(6727),f=n(2426),h=n.n(f),g={user_page:"accountPage_user_page__2b2f0",user_page__avatar_container:"accountPage_user_page__avatar_container__x8xHg",user_page__avatar:"accountPage_user_page__avatar__X7iSu",avatar_upload_btn:"accountPage_avatar_upload_btn__c0sNy",user_page__name:"accountPage_user_page__name__jpU+G",user_page__role:"accountPage_user_page__role__P3cpO",username_form:"accountPage_username_form__6g2oi",username_form__label:"accountPage_username_form__label__Zr8sg",username_form_input:"accountPage_username_form_input__UFHqo","username_form-input--last":"accountPage_username_form-input--last__H1Ue1",username_form__submit:"accountPage_username_form__submit__9Vc2l","username__form-submit":"accountPage_username__form-submit__R8lsZ",invalid_feedback:"accountPage_invalid_feedback__xwEBF",is_invalid:"accountPage_is_invalid__Tz6E4"},v=n(184),b=p.Ry().shape({userName:p.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required"),email:p.Z_().email("Invalid email").required("Required"),phone:p.Z_("Invalid phone"),telegram:p.Z_("Invalid telegram"),avatar:p.Z_("Invalid avatar"),birthday:p.Z_("Invalid avatar")}),x=function(a){var e=a.theme,n=(0,l.I0)(),s=(0,l.v9)(m.mE),p=(0,_.useState)(null),f=(0,c.Z)(p,2),x=f[0],N=f[1],j=(0,_.useState)(null),y=(0,c.Z)(j,2),k=y[0],P=y[1],Z={phone:s.phone||"",telegram:s.telegram||"",userName:s.userName,email:s.email,birthday:s.birthday?h()(s.birthday).format("YYYY-MM-DD"):h()().format("YYYY-MM-DD")};console.log(Z);var w=function(){var a=(0,t.Z)(o().mark((function a(e){var n,r,t;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.target.files[0],P(n),r=new FileReader,t=new Blob([n],{type:n.type}),r.readAsDataURL(t),r.onload=function(){N(r.result)};case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),F=function(){var a=(0,t.Z)(o().mark((function a(e){var r;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=new FormData,Object.keys(e).forEach((function(a){return r.append(a,e[a])})),k&&r.append("avatar",k),a.prev=4,a.next=7,n((0,i.Lj)(r));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(4),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[4,9]])})));return function(e){return a.apply(this,arguments)}}();return(0,v.jsxs)("section",{className:"".concat(g.user_page," ").concat(e),children:[(0,v.jsxs)("div",{className:"".concat(g.user_page__avatar_container," ").concat(e),children:[(0,v.jsx)("img",{className:"".concat(g.user_page__avatar," ").concat(e),src:x||s.avatar||u,alt:"User Avatar"}),(0,v.jsxs)("div",{className:"".concat(g.avatar_upload_container," ").concat(e),children:[(0,v.jsx)("input",{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:w,style:{display:"none"}}),(0,v.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(g.avatar_upload_btn," ").concat(e)})]}),(0,v.jsx)("h3",{className:"".concat(g.user_page__name," ").concat(e),children:s.userName||"Username"}),(0,v.jsx)("p",{className:"".concat(g.user_page__role," ").concat(e),children:"User"})]}),(0,v.jsx)(d.J9,{initialValues:Z,validationSchema:b,onSubmit:function(){var a=(0,t.Z)(o().mark((function a(e,n){var t;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=n.setSubmitting,setTimeout((function(){F(e).then((function(){t(!1)}))}),700),Z=(0,r.Z)({},e);case 3:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),children:function(a){return(0,v.jsxs)(d.l0,{className:"".concat(g.username_form," ").concat(e),children:[(0,v.jsxs)("label",{htmlFor:"userName",className:"".concat(g.username_form__label," ").concat(e),children:["Username",(0,v.jsx)(d.gN,{name:"userName",type:"text",className:"".concat(g.username_form_input," ").concat(e)+(a.errors.userName&&a.touched.userName?g.is_invalid:""),placeholder:"User name"}),(0,v.jsx)(d.Bc,{name:"userName",component:"div",className:g.invalid_feedback})]}),(0,v.jsxs)("label",{htmlFor:"birthday",className:"".concat(g.username_form__label," ").concat(e),children:["Birthday:",(0,v.jsx)(d.gN,{className:"".concat(g.username_form_input," ").concat(e),name:"birthday",lang:"en",type:"date",placeholder:"Enter your birthday"}),(0,v.jsx)(d.Bc,{name:"birthday",component:"div",className:g.invalid_feedback})]}),(0,v.jsxs)("label",{htmlFor:"email",className:"".concat(g.username_form__label," ").concat(e),children:["Email Address",(0,v.jsx)(d.gN,{name:"email",type:"email",className:"".concat(g.username_form_input," ").concat(e)}),(0,v.jsx)(d.Bc,{name:"email",component:"div",className:g.invalid_feedback})]}),(0,v.jsxs)("label",{htmlFor:"phone",className:"".concat(g.username_form__label," ").concat(e),children:["Phone:",(0,v.jsx)(d.gN,{className:"".concat(g.username_form_input," ").concat(e),id:"phone",name:"phone",type:"text",placeholder:"Enter your phone"}),(0,v.jsx)(d.Bc,{name:"phone",component:"div",className:g.invalid_feedback})]}),(0,v.jsxs)("label",{htmlFor:"telegram",className:"".concat(g.username_form__label," ").concat(e),children:["Telegram:",(0,v.jsx)(d.gN,{className:"".concat(g.username_form_input," ").concat(e),id:"telegram",name:"telegram",type:"text",placeholder:"Enter your Telegram link"}),(0,v.jsx)(d.Bc,{name:"telegram",component:"div",className:g.invalid_feedback})]}),(0,v.jsx)("button",{type:"submit",className:"".concat(g.username_form__submit," ").concat(e),disabled:!a.dirty||!a.isValid,children:"Save Changes"})]})}})]})};function N(){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(x,{})})}}}]);
//# sourceMappingURL=968.dc5afbfb.chunk.js.map